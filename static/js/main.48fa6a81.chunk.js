(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{262:function(e,a,t){e.exports=t(493)},267:function(e,a,t){},268:function(e,a,t){},388:function(e,a,t){},427:function(e,a,t){},428:function(e,a,t){},491:function(e,a,t){},493:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(33),c=t.n(r),o=(t(267),t(20)),i=t(41),s=t(47),u=t(55),m=t(506),d=t(56),p=t(494),E=t(507),f=t(504),h=t(107);function v(e,a,t,l){var r=Object(n.useState)(Object(o.a)({},e)),c=Object(i.a)(r,2),s=c[0],u=c[1],m=Object(n.useState)({}),d=Object(i.a)(m,2),p=d[0],E=d[1],f=Object(n.useState)(!1),v=Object(i.a)(f,2),g=v[0],b=v[1];function C(){var e=a(s);E(e)}return Object(n.useEffect)(function(){u(Object(o.a)({},e))},[e]),Object(n.useEffect)(function(){g&&(0===Object.keys(p).length?(t(s),console.log("values",s),console.log("valid"),b(!1)):(console.log("invalid"),b(!1)))},[p]),{values:s,handleInputChange:function(e){u(Object(o.a)({},s,Object(h.a)({},e.target.name,e.target.value)))},handleSubmit:function(){C(),b(!0)},handleBlur:function(){C()},errors:p}}var g={newContact:{email:"",fullname:"",phone:"",address:"",gender:""},searchContact:{key:""}},b=function(e){var a={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)?e.fullname?e.fullname.length<6?(a.fullname="Fullname must be at least 6 characters",a):a:(a.fullname="Required Fullname",a):(a.email="Invalid email address",a):(a.email="Required Email",a)},C=function(e){var a={};return e.key||(a.key="Search Key is required"),a};t(268);var O=function(){var e=v(g.searchContact,C,null),a=(e.values,e.handleInputChange),t=e.handleSubmit,n=e.handleBlur,r=e.errors;return l.a.createElement("div",{className:"search-contact-wrap"},l.a.createElement(E.a,{className:"search-form"},l.a.createElement(f.a,{className:"search-input",action:{icon:"search",color:"blue",onClick:t},name:"key",placeholder:"Search...",onChange:a,onBlur:n,error:r.key&&!0})))},_=t(505),y=t(509);t(388);var j=function(e){e.match,e.contactId;var a=v(g.newContact,b),t=(a.values,a.handleInputChange),n=a.handleSubmit,r=a.handleBlur,c=a.errors;return l.a.createElement("div",{className:"add-contact-wrap"},l.a.createElement(E.a,null,l.a.createElement(E.a.Field,{control:f.a,name:"email",icon:"mail",placeholder:"Email",iconPosition:"left",onChange:t,onBlur:r,error:c.email&&!0}),c.email&&l.a.createElement("p",null," ",c.email," "),l.a.createElement(E.a.Field,{control:f.a,name:"fullname",icon:"pencil",placeholder:"Fullname",iconPosition:"left",onChange:t,onBlur:r,error:c.fullname&&!0}),c.fullname&&l.a.createElement("p",null," ",c.fullname," "),l.a.createElement(E.a.Field,{control:f.a,name:"phone",icon:"phone square",placeholder:"Phone",iconPosition:"left",onChange:t}),l.a.createElement(E.a.Field,{control:f.a,name:"address",icon:"address card",placeholder:"Address",iconPosition:"left",onChange:t}),l.a.createElement(E.a.Field,{control:_.a,name:"gender",placeholder:"Gender",options:[{text:"Female",value:"female"},{text:"Male",value:"male"}]}),l.a.createElement(p.a,{content:"Add Contact",basic:!0,color:"blue",icon:"add",onClick:n})),c.email&&l.a.createElement(y.a,{error:!0,header:c.email}))},k=l.a.createContext(),w=t(235),N=t(17);t(389);function S(){var e=Object(w.a)(["\n    display: block;\n    margin: 0 auto;\n    border-color: red;\n"]);return S=function(){return e},e}Object(N.css)(S());var T=function(){return l.a.createElement("div",{className:"app-loader"},l.a.createElement("div",{className:"loadings"}))};var x=function(e){var a=e.match,t=Object(n.useContext)(k),r=t.contact,c=t.getContact,o=t.updateContact,i=t.loading;Object(n.useEffect)(function(){c(a.params.id)},[]);var s=v(r,b,o),u=s.values,m=s.handleInputChange,d=s.handleSubmit,h=s.handleBlur,g=s.errors;return console.log(i),l.a.createElement("div",{className:"relative add-contact-wrap"},i&&l.a.createElement(T,null),l.a.createElement(E.a,null,l.a.createElement(E.a.Field,{control:f.a,name:"email",icon:"mail",value:u.email||"",placeholder:"Email",iconPosition:"left",onChange:m,onBlur:h,error:g.email&&!0}),g.email&&l.a.createElement("p",null," ",g.email," "),l.a.createElement(E.a.Field,{control:f.a,name:"fullname",icon:"pencil",value:u.fullname||"",placeholder:"Fullname",iconPosition:"left",onChange:m,onBlur:h,error:g.fullname&&!0}),g.fullname&&l.a.createElement("p",null," ",g.fullname," "),l.a.createElement(E.a.Field,{control:f.a,name:"phone",icon:"phone square",value:u.phone||"",placeholder:"Phone",iconPosition:"left",onChange:m}),l.a.createElement(E.a.Field,{control:f.a,name:"address",icon:"address card",value:u.address||"",placeholder:"Address",iconPosition:"left",onChange:m}),l.a.createElement(E.a.Field,{control:f.a,name:"occupation",icon:"address card",value:u.occupation||"",placeholder:"Address",iconPosition:"left",onChange:m}),l.a.createElement(p.a,{content:"Update Contact",basic:!0,color:"blue",icon:"user",onClick:d})),g.email&&l.a.createElement(y.a,{error:!0,header:g.email}))},A=t(508),F=t(503),P=t(510),R=t(83),U=function(){return l.a.createElement(R.a.Item,{text:"Delete",icon:"user delete",style:{color:"red"}})},B=function(e){var a=e.contact,t=l.a.createElement(d.a,{name:"ellipsis vertical"});return l.a.createElement(A.a.Row,null,l.a.createElement(A.a.Cell,null,l.a.createElement(F.a,null)),l.a.createElement(A.a.Cell,null,l.a.createElement("div",{className:"user-icon",style:{width:"40px",height:"40px",backgroundColor:"#c1c1c1",borderRadius:"50%",color:"#ffffff !important",display:"flex",alignItems:"center",justifyContent:"center"}},l.a.createElement(d.a,{name:"user",size:"big"}))),l.a.createElement(A.a.Cell,null,l.a.createElement(s.b,{to:"/profile"},a.fullname)),l.a.createElement(A.a.Cell,null,a.email),l.a.createElement(A.a.Cell,null,a.phone),l.a.createElement(A.a.Cell,null,a.address),l.a.createElement(A.a.Cell,null,l.a.createElement(P.a.Menu,{position:"right"},l.a.createElement(R.a,{item:!0,pointing:"top right",trigger:t,icon:null},l.a.createElement(R.a.Menu,null,l.a.createElement(s.c,{to:"/edit-contact/".concat(a._id)},l.a.createElement(R.a.Item,{text:"Edit",icon:"edit"})),l.a.createElement(U,null))))))};t(427);var I=function(){var e=Object(n.useContext)(k),a=e.contacts,t=e.getContacts,r=e.loading;Object(n.useEffect)(function(){t()},[]);var c=a&&a.map(function(e){return l.a.createElement(B,{key:e._id,contact:e})});return l.a.createElement("div",{className:"relative"},r&&l.a.createElement(T,null),l.a.createElement(A.a,{basic:"very",unstackable:!0},l.a.createElement(A.a.Body,null,c)))},M=t(511),G=t(82),L=(t(428),function(){return l.a.createElement(M.a.Group,null,l.a.createElement(M.a,{className:"profile-header"},l.a.createElement(p.a,{compact:!0,size:"small",floated:"right"},"Clear"),"Event Log ",l.a.createElement(G.a,{circular:!0},"80")),l.a.createElement(M.a,{secondary:!0},l.a.createElement("pre",null,"jkuty")))}),q=(t(198),m.a.Header),D=m.a.Sider,z=m.a.Content,W=m.a.Footer;var H=function(e){e.match;var a=Object(n.useState)(!1),t=Object(i.a)(a,2),r=t[0],c=t[1],o=Object(n.useState)(!1),E=Object(i.a)(o,2),f=E[0],h=E[1];function v(){h(window.innerWidth<=576)}return Object(n.useEffect)(function(){return v(),window.addEventListener("resize",v),function(){return window.removeEventListener("resize",v)}}),l.a.createElement(m.a,{style:{minHeight:"100vh"}},l.a.createElement(D,{collapsible:!0,collapsed:r,onCollapse:function(){c(!r)},theme:"light",width:"235px",breakpoint:"md",collapsedWidth:f?0:80},l.a.createElement("div",{className:"app-brand"},l.a.createElement("div",{className:"app-brand__logo"},l.a.createElement(d.a,{name:"address book outline",size:"big"})),l.a.createElement("div",{className:"app-brand__title"},l.a.createElement("h3",null,"\xa0 \xa0 Contacts"))),l.a.createElement("div",{className:"app-link "},l.a.createElement(s.b,{to:"/new-contact"},l.a.createElement("div",{className:"app-link__item margin-bottom"},l.a.createElement("span",{className:"app-link__item-icon"},l.a.createElement(d.a,{name:"add",color:"blue"}))," \xa0 \xa0",l.a.createElement("span",{className:"app-link__item-description"},l.a.createElement(p.a,{className:"new-contact__btn",content:"New Contact"})))),l.a.createElement(s.b,{to:"/"},l.a.createElement("div",{className:"app-link__item"},l.a.createElement("span",{className:"app-link__item-icon"},l.a.createElement(d.a,{name:"list"}))," \xa0 \xa0",l.a.createElement("span",{className:"app-link__item-description"},"All contacts"))),l.a.createElement("div",{className:"app-link__item"},l.a.createElement("span",{className:"app-link__item-icon"},l.a.createElement(d.a,{name:"undo alternate"}))," \xa0 \xa0",l.a.createElement("span",{className:"app-link__item-description"},"Frequently contacted")),l.a.createElement("div",{className:"app-link__item"},l.a.createElement("span",{className:"app-link__item-icon"},l.a.createElement(d.a,{name:"star"}))," \xa0 \xa0",l.a.createElement("span",{className:"app-link__item-description"},"Starred contacts")))),l.a.createElement(m.a,null,l.a.createElement(q,{style:{padding:0,backgroundColor:"#ffffff",borderBottom:"1px solid #edeeee"},theme:"light"},l.a.createElement(O,null)),l.a.createElement(z,null,l.a.createElement("div",{style:{background:"#fff",minHeight:360}},l.a.createElement(u.c,null,l.a.createElement(u.a,{path:"/",component:I,exact:!0}),l.a.createElement(u.a,{path:"/profile",component:L}),l.a.createElement(u.a,{path:"/new-contact",render:function(e){return l.a.createElement(j,Object.assign({},e,{contactId:"meeeee"}))}}),l.a.createElement(u.a,{path:"/edit-contact/:id",component:x})))),l.a.createElement(W,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED")))},Q=t(157);t(471);var Z=function(){var e=Object(n.useContext)(k),a=e.errorMessage,t=e.successMessage,r=e.clearErrors,c=function(e,a){return Q.b[a](e,{onClose:function(){return r()}})};return Object(n.useEffect)(function(){a&&c(a,"error"),t&&c(t,"success")},[a,t]),l.a.createElement("div",null,l.a.createElement(Q.a,null))},J="GET_CONTACTS_REQUEST",$="GET_CONTACTS_SUCCESS",K="GET_CONTACTS_FAILURE",V="GET_CONTACT_REQUEST",X="GET_CONTACT_SUCCESS",Y="UPDATE_CONTACT_REQUEST",ee="UPDATE_CONTACT_SUCCESS",ae="UPDATE_CONTACT_FAILURE",te="CLEAR_ERRORS",ne={contacts:[],contact:{nothing:"for you"},loading:!1,errorMessage:null,successMessage:null},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case J:return Object(o.a)({},e,{loading:!0});case $:return Object(o.a)({},e,{contacts:a.payload.data,loading:!1});case K:return Object(o.a)({},e,{loading:!1,errorMessage:a.error.message});case V:return Object(o.a)({},e,{loading:!0});case X:return Object(o.a)({},e,{contact:a.payload.data,loading:!1});case Y:return Object(o.a)({},e,{loading:!0});case ee:return Object(o.a)({},e,{contact:a.payload.data,successMessage:a.payload.message,loading:!1});case ae:return Object(o.a)({},e,{errorMessage:a.payload.message,loading:!1});case te:return Object(o.a)({},e,{errorMessage:null,successMessage:null});default:return e}},re=t(58),ce=t.n(re),oe=t(117),ie=t(247),se=t.n(ie).a.create({headers:{"Content-Type":"application/json"}});se.defaults.baseURL="https://contacts-registry.herokuapp.com/";var ue=se,me=t(248),de=t.n(me),pe=function(e){return Object(oe.a)(ce.a.mark(function a(){var t;return ce.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:J}),a.prev=1,a.next=4,ue.get("/contacts");case 4:t=a.sent,e({type:$,payload:t.data}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:K,error:a.t0}),console.log("error: ",a.t0);case 12:case"end":return a.stop()}},a,null,[[1,8]])}))},Ee=function(e){return function(){var a=Object(oe.a)(ce.a.mark(function a(t){var n;return ce.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:V}),a.prev=1,a.next=4,ue.get("/contacts/".concat(t));case 4:n=a.sent,e({type:X,payload:n.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e){return a.apply(this,arguments)}}()},fe=function(e){return function(){var a=Object(oe.a)(ce.a.mark(function a(t){var n;return ce.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:Y}),a.prev=1,a.next=4,ue.patch("/contacts/".concat(t._id),Object(o.a)({},de.a.omit(t,["_id"])));case 4:n=a.sent,e({type:ee,payload:n.data}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:ae,error:a.t0}),console.log(a.t0);case 12:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e){return a.apply(this,arguments)}}()},he=function(e){return function(){e({type:te})}};t(491);var ve=function(){var e=Object(n.useReducer)(le,ne),a=Object(i.a)(e,2),t=a[0],r=a[1];return l.a.createElement(k.Provider,{value:Object(o.a)({},t,{getContacts:pe(r),getContact:Ee(r),clearErrors:he(r),updateContact:fe(r)})},l.a.createElement(Z,null),l.a.createElement(s.a,{basename:"/"},l.a.createElement(u.a,{path:"/",component:H})))};t(492),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[262,1,2]]]);
//# sourceMappingURL=main.48fa6a81.chunk.js.map