(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{320:function(e,a,t){e.exports=t(579)},325:function(e,a,t){},326:function(e,a,t){},450:function(e,a,t){},513:function(e,a,t){},514:function(e,a,t){},577:function(e,a,t){},579:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(40),l=t.n(c),o=(t(325),t(17)),s=t(35),i=t(58),u=t(69),m=t(592),d=t(70),p=t(580),E=t(593),f=t(591),h=t(130);function g(e,a,t,r){var c=Object(n.useState)(Object(o.a)({},e)),l=Object(s.a)(c,2),i=l[0],u=l[1],m=Object(n.useState)({}),d=Object(s.a)(m,2),p=d[0],E=d[1],f=Object(n.useState)(!1),g=Object(s.a)(f,2),v=g[0],b=g[1];function C(){var e=a(i);E(e)}return Object(n.useEffect)(function(){u(Object(o.a)({},e))},[e]),Object(n.useEffect)(function(){v&&(0===Object.keys(p).length?(t(i),console.log("values",i),console.log("valid"),b(!1)):(console.log("invalid"),b(!1)))},[p]),{values:i,handleInputChange:function(e){u(Object(o.a)({},i,Object(h.a)({},e.target.name,e.target.value)))},handleSubmit:function(){C(),b(!0)},handleBlur:function(){C()},errors:p}}var v={newContact:{email:"",fullname:"",phone:"",address:"",occupation:""},searchContact:{key:""}},b=function(e){var a={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)?e.fullname?e.fullname.length<6?(a.fullname="Fullname must be at least 6 characters",a):a:(a.fullname="Required Fullname",a):(a.email="Invalid email address",a):(a.email="Required Email",a)},C=function(e){var a={};return e.key||(a.key="Search Key is required"),a};t(326);var O=function(){var e=g(v.searchContact,C,null),a=(e.values,e.handleInputChange),t=e.handleSubmit,n=e.handleBlur,c=e.errors;return r.a.createElement("div",{className:"search-contact-wrap"},r.a.createElement(E.a,{className:"search-form"},r.a.createElement(f.a,{className:"search-input",action:{icon:"search",color:"blue",onClick:t},name:"key",placeholder:"Search...",onChange:a,onBlur:n,error:c.key&&!0})))},_=t(597),y=r.a.createContext(),j=t(286),k=t(19);t(427);function T(){var e=Object(j.a)(["\n    display: block;\n    margin: 0 auto;\n    border-color: red;\n"]);return T=function(){return e},e}Object(k.css)(T());var w=function(){return r.a.createElement("div",{className:"app-loader"},r.a.createElement("div",{className:"loadings"}))};t(450);var N=function(e){var a=e.history,t=Object(n.useContext)(y),c=t.loading,l=t.addContact,o=t.successMessage;Object(n.useEffect)(function(){o&&setTimeout(function(){return a.push("/")},5e3)},[o]);var s=g(v.newContact,b,l),i=s.values,u=s.handleInputChange,m=s.handleSubmit,d=s.handleBlur,h=s.errors;return r.a.createElement("div",{className:"relative add-contact-wrap"},c&&r.a.createElement(w,null),r.a.createElement(E.a,null,r.a.createElement(E.a.Field,{control:f.a,name:"email",icon:"mail",value:i.email||"",placeholder:"Email",iconPosition:"left",onChange:u,onBlur:d,error:h.email&&!0}),h.email&&r.a.createElement("p",null," ",h.email," "),r.a.createElement(E.a.Field,{control:f.a,name:"fullname",icon:"pencil",value:i.fullname||"",placeholder:"Fullname",iconPosition:"left",onChange:u,onBlur:d,error:h.fullname&&!0}),h.fullname&&r.a.createElement("p",null," ",h.fullname," "),r.a.createElement(E.a.Field,{control:f.a,name:"phone",icon:"phone square",value:i.phone||"",placeholder:"Phone",iconPosition:"left",onChange:u}),r.a.createElement(E.a.Field,{control:f.a,name:"address",icon:"address card",value:i.address||"",placeholder:"Address",iconPosition:"left",onChange:u}),r.a.createElement(E.a.Field,{control:f.a,name:"occupation",icon:"address card",value:i.occupation||"",placeholder:"Occupation",iconPosition:"left",onChange:u}),r.a.createElement(p.a,{content:"Add Contact",basic:!0,color:"blue",icon:"add",onClick:m})),h.email&&r.a.createElement(_.a,{error:!0,header:h.email}))};var S=function(e){var a=e.match,t=Object(n.useContext)(y),c=t.contact,l=t.getContact,o=t.updateContact,s=t.loading;Object(n.useEffect)(function(){l(a.params.id)},[]);var i=g(c,b,o),u=i.values,m=i.handleInputChange,d=i.handleSubmit,h=i.handleBlur,v=i.errors;return console.log(s),r.a.createElement("div",{className:"relative add-contact-wrap"},s&&r.a.createElement(w,null),r.a.createElement(E.a,null,r.a.createElement(E.a.Field,{control:f.a,name:"email",icon:"mail",value:u.email||"",placeholder:"Email",iconPosition:"left",onChange:m,onBlur:h,error:v.email&&!0}),v.email&&r.a.createElement("p",null," ",v.email," "),r.a.createElement(E.a.Field,{control:f.a,name:"fullname",icon:"pencil",value:u.fullname||"",placeholder:"Fullname",iconPosition:"left",onChange:m,onBlur:h,error:v.fullname&&!0}),v.fullname&&r.a.createElement("p",null," ",v.fullname," "),r.a.createElement(E.a.Field,{control:f.a,name:"phone",icon:"phone square",value:u.phone||"",placeholder:"Phone",iconPosition:"left",onChange:m}),r.a.createElement(E.a.Field,{control:f.a,name:"address",icon:"address card",value:u.address||"",placeholder:"Address",iconPosition:"left",onChange:m}),r.a.createElement(E.a.Field,{control:f.a,name:"occupation",icon:"address card",value:u.occupation||"",placeholder:"Occupation",iconPosition:"left",onChange:m}),r.a.createElement(p.a,{content:"Update Contact",basic:!0,color:"blue",icon:"user",onClick:d})),v.email&&r.a.createElement(_.a,{error:!0,header:v.email}))},A=t(596),x=t(590),F=t(598),U=t(595),R=t(594),D=function(e){var a=e.id,t=Object(n.useContext)(y),c=t.getContacts,l=t.deleteContact,o=t.deleteSuccess,i=Object(n.useState)(!1),u=Object(s.a)(i,2),m=u[0],d=u[1];return Object(n.useEffect)(function(){o&&setTimeout(function(){return c()},5e3)},[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a.Item,{text:"Delete",icon:"user delete",style:{color:"red"},onClick:function(){return d(!0)}}),r.a.createElement(R.a,{open:m,header:"Confirm Delete",content:"Are you sure you want to delete this contact?",onCancel:function(){return d(!1)},onConfirm:function(){d(!1),l(a)}}))},M=function(e){var a=e.contact,t=r.a.createElement(d.a,{name:"ellipsis vertical"});return r.a.createElement(A.a.Row,null,r.a.createElement(A.a.Cell,null,r.a.createElement(x.a,null)),r.a.createElement(A.a.Cell,null,r.a.createElement("div",{className:"user-icon",style:{width:"40px",height:"40px",backgroundColor:"#c1c1c1",borderRadius:"50%",color:"#ffffff !important",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(d.a,{name:"user",size:"big"}))),r.a.createElement(A.a.Cell,null,r.a.createElement(i.b,{to:"/profile"},a.fullname)),r.a.createElement(A.a.Cell,null,a.email),r.a.createElement(A.a.Cell,null,a.phone),r.a.createElement(A.a.Cell,null,a.address),r.a.createElement(A.a.Cell,null,r.a.createElement(F.a.Menu,{position:"right"},r.a.createElement(U.a,{item:!0,pointing:"top right",trigger:t,icon:null},r.a.createElement(U.a.Menu,null,r.a.createElement(i.c,{to:"/edit-contact/".concat(a._id)},r.a.createElement(U.a.Item,{text:"Edit",icon:"edit"})),r.a.createElement(D,{id:a._id}))))))};t(513);var P=function(){var e=Object(n.useContext)(y),a=e.contacts,t=e.getContacts,c=e.loading;Object(n.useEffect)(function(){t()},[]);var l=a&&a.map(function(e){return r.a.createElement(M,{key:e._id,contact:e})});return r.a.createElement("div",{className:"relative"},c&&r.a.createElement(w,null),r.a.createElement(A.a,{basic:"very",unstackable:!0},r.a.createElement(A.a.Body,null,l)))},I=t(599),B=t(96),L=(t(514),function(){return r.a.createElement(I.a.Group,null,r.a.createElement(I.a,{className:"profile-header"},r.a.createElement(p.a,{compact:!0,size:"small",floated:"right"},"Clear"),"Event Log ",r.a.createElement(B.a,{circular:!0},"80")),r.a.createElement(I.a,{secondary:!0},r.a.createElement("pre",null,"jkuty")))}),q=(t(253),m.a.Header),G=m.a.Sider,z=m.a.Content,Q=m.a.Footer;var W=function(e){e.match;var a=Object(n.useState)(!1),t=Object(s.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)(!1),E=Object(s.a)(o,2),f=E[0],h=E[1];function g(){h(window.innerWidth<=576)}return Object(n.useEffect)(function(){return g(),window.addEventListener("resize",g),function(){return window.removeEventListener("resize",g)}}),r.a.createElement(m.a,{style:{minHeight:"100vh"}},r.a.createElement(G,{collapsible:!0,collapsed:c,onCollapse:function(){l(!c)},theme:"light",width:"235px",breakpoint:"md",collapsedWidth:f?0:80},r.a.createElement("div",{className:"app-brand"},r.a.createElement("div",{className:"app-brand__logo"},r.a.createElement(d.a,{name:"address book outline",size:"big"})),r.a.createElement("div",{className:"app-brand__title"},r.a.createElement("h3",null,"\xa0 \xa0 Contacts"))),r.a.createElement("div",{className:"app-link "},r.a.createElement(i.b,{to:"/new-contact"},r.a.createElement("div",{className:"app-link__item margin-bottom"},r.a.createElement("span",{className:"app-link__item-icon"},r.a.createElement(d.a,{name:"add",color:"blue"}))," \xa0 \xa0",r.a.createElement("span",{className:"app-link__item-description"},r.a.createElement(p.a,{className:"new-contact__btn",content:"New Contact"})))),r.a.createElement(i.b,{to:"/"},r.a.createElement("div",{className:"app-link__item"},r.a.createElement("span",{className:"app-link__item-icon"},r.a.createElement(d.a,{name:"list"}))," \xa0 \xa0",r.a.createElement("span",{className:"app-link__item-description"},"All contacts"))),r.a.createElement("div",{className:"app-link__item"},r.a.createElement("span",{className:"app-link__item-icon"},r.a.createElement(d.a,{name:"undo alternate"}))," \xa0 \xa0",r.a.createElement("span",{className:"app-link__item-description"},"Frequently contacted")),r.a.createElement("div",{className:"app-link__item"},r.a.createElement("span",{className:"app-link__item-icon"},r.a.createElement(d.a,{name:"star"}))," \xa0 \xa0",r.a.createElement("span",{className:"app-link__item-description"},"Starred contacts")))),r.a.createElement(m.a,null,r.a.createElement(q,{style:{padding:0,backgroundColor:"#ffffff",borderBottom:"1px solid #edeeee"},theme:"light"},r.a.createElement(O,null)),r.a.createElement(z,null,r.a.createElement("div",{style:{background:"#fff",minHeight:360}},r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",component:P,exact:!0}),r.a.createElement(u.a,{path:"/profile",component:L}),r.a.createElement(u.a,{path:"/new-contact",render:function(e){return r.a.createElement(N,Object.assign({},e,{contactId:"meeeee"}))}}),r.a.createElement(u.a,{path:"/edit-contact/:id",component:S})))),r.a.createElement(Q,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED")))},H=t(191);t(557);var Z=function(){var e=Object(n.useContext)(y),a=e.errorMessage,t=e.successMessage,c=e.clearErrors,l=function(e,a){return H.b[a](e,{onClose:function(){return c()}})};return Object(n.useEffect)(function(){a&&l(a,"error"),t&&l(t,"success")},[a,t]),r.a.createElement("div",null,r.a.createElement(H.a,null))},J="GET_CONTACTS_REQUEST",$="GET_CONTACTS_SUCCESS",K="GET_CONTACTS_FAILURE",V="GET_CONTACT_REQUEST",X="GET_CONTACT_SUCCESS",Y="UPDATE_CONTACT_REQUEST",ee="UPDATE_CONTACT_SUCCESS",ae="UPDATE_CONTACT_FAILURE",te="ADD_CONTACT_REQUEST",ne="ADD_CONTACT_SUCCESS",re="ADD_CONTACT_FAILURE",ce="DELETE_CONTACT_REQUEST",le="DELETE_CONTACT_SUCCESS",oe="DELETE_CONTACT_FAILURE",se="CLEAR_ERRORS",ie={contacts:[],contact:{nothing:"for you"},loading:!1,errorMessage:null,successMessage:null,deleteSuccess:!1},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case J:return Object(o.a)({},e,{loading:!0});case $:return Object(o.a)({},e,{contacts:a.payload.data,loading:!1});case K:return Object(o.a)({},e,{loading:!1,errorMessage:a.error.message});case V:return Object(o.a)({},e,{loading:!0});case X:return Object(o.a)({},e,{contact:a.payload.data,loading:!1});case Y:return Object(o.a)({},e,{loading:!0});case ee:return Object(o.a)({},e,{contact:a.payload.data,successMessage:a.payload.message,loading:!1});case ae:return Object(o.a)({},e,{errorMessage:a.payload.message,loading:!1});case te:return Object(o.a)({},e,{loading:!0});case ne:return Object(o.a)({},e,{successMessage:a.payload.message,loading:!1});case re:return Object(o.a)({},e,{errorMessage:a.error.message,loading:!1});case ce:return Object(o.a)({},e,{loading:!0});case le:return Object(o.a)({},e,{successMessage:a.payload.message,deleteSuccess:!0,loading:!1});case oe:return Object(o.a)({},e,{errorMessage:a.error.message,loading:!1});case se:return Object(o.a)({},e,{errorMessage:null,successMessage:null});default:return e}},me=t(38),de=t.n(me),pe=t(85),Ee=t(306),fe=t.n(Ee).a.create({headers:{"Content-Type":"application/json"}});fe.defaults.baseURL="https://contacts-registry.herokuapp.com/";var he=fe,ge=t(307),ve=t.n(ge),be=function(e){return Object(pe.a)(de.a.mark(function a(){var t;return de.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:J}),a.prev=1,a.next=4,he.get("/contacts");case 4:t=a.sent,e({type:$,payload:t.data}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:K,error:a.t0}),console.log("error: ",a.t0);case 12:case"end":return a.stop()}},a,null,[[1,8]])}))},Ce=function(e){return function(){var a=Object(pe.a)(de.a.mark(function a(t){var n;return de.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:V}),a.prev=1,a.next=4,he.get("/contacts/".concat(t));case 4:n=a.sent,e({type:X,payload:n.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),console.log(a.t0);case 11:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e){return a.apply(this,arguments)}}()},Oe=function(e){return function(){var a=Object(pe.a)(de.a.mark(function a(t){var n;return de.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:Y}),a.prev=1,a.next=4,he.patch("/contacts/".concat(t._id),Object(o.a)({},ve.a.omit(t,["_id"])));case 4:n=a.sent,e({type:ee,payload:n.data}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:ae,error:a.t0}),console.log(a.t0);case 12:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e){return a.apply(this,arguments)}}()},_e=function(e){return function(){var a=Object(pe.a)(de.a.mark(function a(t){var n;return de.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:te}),a.prev=1,a.next=4,he.post("/contacts",Object(o.a)({},t));case 4:"error"===(n=a.sent).status?e({type:re,error:n.errors}):e({type:ne,payload:n.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:re,error:a.t0});case 11:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e){return a.apply(this,arguments)}}()},ye=function(e){return function(){var a=Object(pe.a)(de.a.mark(function a(t){var n;return de.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:ce}),a.prev=1,a.next=4,he.delete("/contacts/".concat(t));case 4:n=a.sent,e({type:le,payload:n.data}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:oe,error:a.t0}),console.log(a.t0);case 12:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e){return a.apply(this,arguments)}}()},je=function(e){return function(){e({type:se})}};t(577);var ke=function(){var e=Object(n.useReducer)(ue,ie),a=Object(s.a)(e,2),t=a[0],c=a[1];return r.a.createElement(y.Provider,{value:Object(o.a)({},t,{getContacts:be(c),getContact:Ce(c),clearErrors:je(c),updateContact:Oe(c),addContact:_e(c),deleteContact:ye(c)})},r.a.createElement(Z,null),r.a.createElement(i.a,{basename:"/"},r.a.createElement(u.a,{path:"/",component:W})))};t(578),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[320,1,2]]]);
//# sourceMappingURL=main.67b0541e.chunk.js.map